{"ast":null,"code":"/*\r\n박승균 Mcart.js html틀 제작\r\n*/import React,{useEffect,useState}from\"react\";import{API_URL}from\"../../../config/contansts\";import{NavLink,useNavigate}from'react-router-dom';import axios from\"axios\";import{useRecoilState}from\"recoil\";import{loginState}from\"../../../recoil/atoms/State\";import{errHandler}from'../../../utils/globalFunction';import\"./Mcart.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Mcart=()=>{const[islogin,setIslogin]=useRecoilState(loginState);//useState와 거의 비슷한 사용법\nconst[cart,setCart]=useState([]);/** 장바구니에 담은 상품목록 */const[user,setUser]=useState({});/** 로그인한 사용자정보 */const[store,setStore]=useState([]);/** 매장 목록 */const[isPopupOpen,setPopupOpen]=useState(false);// 팝업창\nconst[selectedStore,setSelectedStore]=useState(null);// 팝업창에서 선택한 매장\nconst[prodQuantities,setProdQuantities]=useState([]);const navigate=useNavigate();/** 주문하기 */const handleOrder=()=>{if(selectedStore!==null&&totalProdPrice!==0){cart.map((item,index)=>{item.quantity=prodQuantities[index].quantity;});const orderObject={};orderObject.store_id=selectedStore.id;orderObject.menu_items=cart;orderObject.total_price=totalProdPrice;navigate(\"/payment\",{state:orderObject});}else{alert(\"상품이 없거나 매장을 선택하지않았습니다.\");return;}};useEffect(()=>{const storedCart=JSON.parse(sessionStorage.getItem(\"cart\"));if(storedCart&&storedCart.length>0)setCart(storedCart);},[]);useEffect(()=>{/** 로그인중인 사용자 정보 불러오기 */axios.get(\"\".concat(API_URL,\"/api/user/one\")).then(res=>{setUser(res.data);}).catch(err=>{console.error(err);setIslogin(false);errHandler(err);});},[]);useEffect(()=>{/** 매장 전부 불러오기 */axios.get(\"\".concat(API_URL,\"/api/store\")).then(res=>{setStore(res.data);}).catch(err=>{console.error(err);});},[]);useEffect(()=>{if(cart.length>0){setProdQuantities(//상품각각에 넣기\ncart.map(prod=>({id:prod.menu_id,img:prod.img,name:prod.name,totalPrice:prod.totalPrice,price:prod.price,quantity:prod.quantity,options:prod.options,totalOptionPrice:prod.totalOptionPrice})));}},[cart]);/**  각 메뉴 개수 증감 */const prodDecrease=index=>{const updatedQuantities=[...prodQuantities];if(updatedQuantities[index].quantity>0){updatedQuantities[index].quantity-=1;setProdQuantities(updatedQuantities);updateSessionStorage(updatedQuantities);// 세션\n}const storedCart=JSON.parse(sessionStorage.getItem(\"cart\"));if(storedCart&&storedCart.length>0)setCart(storedCart);};const prodIncrease=index=>{const updatedQuantities=[...prodQuantities];if(updatedQuantities[index]){updatedQuantities[index].quantity+=1;setProdQuantities(updatedQuantities);updateSessionStorage(updatedQuantities);// 세션\n}const storedCart=JSON.parse(sessionStorage.getItem(\"cart\"));if(storedCart&&storedCart.length>0)setCart(storedCart);};const updateSessionStorage=updatedQuantities=>{// 세션 스토리지에 현재 cart 상태를 업데이트\nconst updatedCart=cart.map((item,index)=>({...item,quantity:updatedQuantities[index].quantity}));sessionStorage.setItem(\"cart\",JSON.stringify(updatedCart));};/**  각 메뉴의 가격 * 수량 값을 더한 총 가격\r\n  cart 배열이 null 이거나 undefined 인 상태에서 reduce를 호출하려 하면 실행 안됨 */const totalProdPrice=cart?cart.reduce((total,prod,index)=>{return total+prod.totalOptionPrice+prod.price*(prodQuantities[index]&&prodQuantities[index].quantity||0);},0):0;// 장바구니에서 메뉴 항목을 제거하는 함수\nconst removeItemFromCart=index=>{const updatedCart=[...cart];updatedCart.splice(index,1);setCart(updatedCart);const updatedQuantities=[...prodQuantities];updatedQuantities.splice(index,1);setProdQuantities(updatedQuantities);sessionStorage.setItem(\"cart\",JSON.stringify(updatedCart));};/** 팝업 열기,닫기 함수 */const openPopup=()=>{setPopupOpen(true);};const closePopup=()=>{setPopupOpen(false);};/**  매장 선택 함수 */const handleStoreSelection=selectedStore=>{setSelectedStore(selectedStore);closePopup();};return/*#__PURE__*/_jsxs(\"div\",{className:\"Mcart-top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Mcart-h2\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC7A5\\uBC14\\uAD6C\\uB2C8\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Mcart-btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"Mcart-btn1\",children:\"\\uBC30\\uB2EC\\uC8FC\\uBB38\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"midbox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Mcart-mid\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"Mcart-ul\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"Mcart-li1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uBC30\\uB2EC\\uC8FC\\uC18C\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Mcart-p\",children:/*#__PURE__*/_jsxs(\"p\",{children:[user.address,\" \",user.detail_address]})})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"Mcart-li2\",children:[/*#__PURE__*/_jsx(\"div\",{children:selectedStore?selectedStore.store_name:'매장 선택'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:openPopup,children:\"\\uB9E4\\uC7A5\\uC120\\uD0DD\"}),isPopupOpen&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"div\",{id:\"bg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"store-popup\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB9E4\\uC7A5 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"ul\",{children:store.map(storeItem=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleStoreSelection(storeItem),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[storeItem.store_name,\" \"]}),/*#__PURE__*/_jsx(\"p\",{children:storeItem.phone}),/*#__PURE__*/_jsx(\"p\",{children:storeItem.address})]},storeItem.id))})]})]})]})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"Mcart-li3\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\uC218\\uB839\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:user.name}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uBCC0\\uACBD\"})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"Mcart-h3\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC8FC\\uBB38\\uC0C1\\uD488\"})}),cart&&cart.length>0?cart.map((prod,index)=>{var _prodQuantities$index;return/*#__PURE__*/_jsxs(\"li\",{className:\"Mcart-li4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"Mcart-btn2\",style:{backgroundImage:'url(./images/Mcart/icon_x_g.png)'},onClick:()=>removeItemFromCart(index)}),/*#__PURE__*/_jsxs(\"div\",{className:\"Mcart-middle1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:API_URL+prod.img,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Mcart-txt\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h4\",{children:prod.name})}),/*#__PURE__*/_jsx(\"div\",{id:\"options\",children:prod.options.map((option,optionIndex)=>/*#__PURE__*/_jsxs(\"p\",{children:[option.option_name,\": \",option.quantity]},optionIndex))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Mcart-middle2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Mcart-plusb\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>prodDecrease(index),children:/*#__PURE__*/_jsx(\"div\",{children:\"-\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:prodQuantities[index]&&prodQuantities[index].quantity}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>prodIncrease(index),children:/*#__PURE__*/_jsx(\"span\",{children:\"+\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[(prod.totalOptionPrice+(((_prodQuantities$index=prodQuantities[index])===null||_prodQuantities$index===void 0?void 0:_prodQuantities$index.quantity)||0)*prod.price).toLocaleString(),\" \\uC6D0\"]})})]})]},index);}):/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0C1\\uD488\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Mcart-bottom\",children:[\"\\uCD1D \\uC0C1\\uD488 \\uAE08\\uC561 \",/*#__PURE__*/_jsxs(\"span\",{children:[totalProdPrice.toLocaleString(),\" \\uC6D0\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Mcart-botbotton\",children:[/*#__PURE__*/_jsx(NavLink,{to:'/menu/1',className:\"botbutton1\",children:\"\\uBA54\\uB274\\uCD94\\uAC00\"}),/*#__PURE__*/_jsx(\"button\",{className:\"botbutton2\",onClick:handleOrder,children:\"\\uC8FC\\uBB38\\uD558\\uAE30\"})]})]});};export default Mcart;","map":{"version":3,"names":["React","useEffect","useState","API_URL","NavLink","useNavigate","axios","useRecoilState","loginState","errHandler","jsx","_jsx","jsxs","_jsxs","Mcart","islogin","setIslogin","cart","setCart","user","setUser","store","setStore","isPopupOpen","setPopupOpen","selectedStore","setSelectedStore","prodQuantities","setProdQuantities","navigate","handleOrder","totalProdPrice","map","item","index","quantity","orderObject","store_id","id","menu_items","total_price","state","alert","storedCart","JSON","parse","sessionStorage","getItem","length","get","concat","then","res","data","catch","err","console","error","prod","menu_id","img","name","totalPrice","price","options","totalOptionPrice","prodDecrease","updatedQuantities","updateSessionStorage","prodIncrease","updatedCart","setItem","stringify","reduce","total","removeItemFromCart","splice","openPopup","closePopup","handleStoreSelection","className","children","address","detail_address","store_name","onClick","storeItem","phone","type","value","_prodQuantities$index","style","backgroundImage","src","alt","option","optionIndex","option_name","toLocaleString","to"],"sources":["C:/Users/user/Desktop/mcdonald-ec2/client/src/page/Store/Mcart/Mcart.js"],"sourcesContent":["/*\r\n박승균 Mcart.js html틀 제작\r\n*/\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { API_URL } from \"../../../config/contansts\";\r\nimport { NavLink, useNavigate } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { loginState } from \"../../../recoil/atoms/State\";\r\nimport { errHandler } from '../../../utils/globalFunction';\r\nimport \"./Mcart.scss\";\r\n\r\nconst Mcart = () => {\r\n  const [islogin, setIslogin] = useRecoilState(loginState); //useState와 거의 비슷한 사용법\r\n  const [cart, setCart] = useState([]); /** 장바구니에 담은 상품목록 */\r\n  const [user, setUser] = useState({});/** 로그인한 사용자정보 */\r\n  const [store, setStore] = useState([]);/** 매장 목록 */\r\n  const [isPopupOpen, setPopupOpen] = useState(false); // 팝업창\r\n  const [selectedStore, setSelectedStore] = useState(null); // 팝업창에서 선택한 매장\r\n  const [prodQuantities, setProdQuantities] = useState([]);\r\n  const navigate = useNavigate();\r\n  \r\n  /** 주문하기 */\r\n  const handleOrder = () => {\r\n    if(\r\n      selectedStore !== null &&\r\n      totalProdPrice !== 0\r\n    ) { \r\n      cart.map((item, index) => {\r\n        item.quantity = prodQuantities[index].quantity;\r\n      });\r\n      const orderObject = {};\r\n      orderObject.store_id  = selectedStore.id;\r\n      orderObject.menu_items = cart;\r\n      orderObject.total_price = totalProdPrice;\r\n      navigate(`/payment`, { state: orderObject });\r\n    }else{\r\n      alert(\"상품이 없거나 매장을 선택하지않았습니다.\");\r\n      return;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const storedCart = JSON.parse(sessionStorage.getItem(\"cart\"));\r\n    if (storedCart && storedCart.length > 0) setCart(storedCart);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    /** 로그인중인 사용자 정보 불러오기 */\r\n    axios.get(`${API_URL}/api/user/one`)\r\n      .then((res) => {\r\n        setUser(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIslogin(false);\r\n        errHandler(err);\r\n      });\r\n  }, []);\r\n  useEffect(() => {\r\n    /** 매장 전부 불러오기 */\r\n    axios.get(`${API_URL}/api/store`)\r\n      .then((res) => {\r\n        setStore(res.data);\r\n      })\r\n      .catch((err) => {\r\n          console.error(err);\r\n      });\r\n  },[]);\r\n  useEffect(() => {\r\n    if (cart.length > 0) {\r\n      setProdQuantities( //상품각각에 넣기\r\n        cart.map((prod) => ({\r\n          id: prod.menu_id,\r\n          img: prod.img,\r\n          name: prod.name,\r\n          totalPrice: prod.totalPrice,\r\n          price: prod.price,\r\n          quantity: prod.quantity,\r\n          options: prod.options,\r\n          totalOptionPrice: prod.totalOptionPrice,\r\n        }))\r\n      );\r\n    }\r\n  }, [cart]);\r\n  \r\n  /**  각 메뉴 개수 증감 */\r\n  const prodDecrease = (index) => {\r\n    const updatedQuantities = [...prodQuantities];\r\n    if (updatedQuantities[index].quantity > 0) {\r\n      updatedQuantities[index].quantity -= 1;\r\n      setProdQuantities(updatedQuantities);\r\n      updateSessionStorage(updatedQuantities);// 세션\r\n    }\r\n    const storedCart = JSON.parse(sessionStorage.getItem(\"cart\"));\r\n    if (storedCart && storedCart.length > 0) setCart(storedCart);\r\n  };\r\n  const prodIncrease = (index) => {\r\n    const updatedQuantities = [...prodQuantities];\r\n    if (updatedQuantities[index]) {\r\n      updatedQuantities[index].quantity += 1;\r\n      setProdQuantities(updatedQuantities);\r\n      updateSessionStorage(updatedQuantities); // 세션\r\n    }\r\n    const storedCart = JSON.parse(sessionStorage.getItem(\"cart\"));\r\n    if (storedCart && storedCart.length > 0) setCart(storedCart);\r\n  };\r\n  const updateSessionStorage = (updatedQuantities) => {\r\n    // 세션 스토리지에 현재 cart 상태를 업데이트\r\n    const updatedCart = cart.map((item, index) => ({\r\n      ...item,\r\n      quantity: updatedQuantities[index].quantity,\r\n    }));\r\n    sessionStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n  };\r\n  /**  각 메뉴의 가격 * 수량 값을 더한 총 가격\r\n  cart 배열이 null 이거나 undefined 인 상태에서 reduce를 호출하려 하면 실행 안됨 */\r\n  const totalProdPrice = cart ? \r\n  cart.reduce((total, prod, index) => {\r\n      return (\r\n        total + prod.totalOptionPrice +\r\n        prod.price * ((prodQuantities[index] && prodQuantities[index].quantity) || 0)\r\n      );\r\n    }, 0)\r\n  : 0;\r\n\r\n  // 장바구니에서 메뉴 항목을 제거하는 함수\r\n  const removeItemFromCart = (index) => {\r\n    const updatedCart = [...cart];\r\n    updatedCart.splice(index, 1);\r\n    setCart(updatedCart);\r\n\r\n    const updatedQuantities = [...prodQuantities];\r\n    updatedQuantities.splice(index, 1);\r\n    setProdQuantities(updatedQuantities);\r\n\r\n    sessionStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n  };\r\n\r\n  /** 팝업 열기,닫기 함수 */\r\n  const openPopup = () => { setPopupOpen(true); };\r\n  const closePopup = () => { setPopupOpen(false); };\r\n  /**  매장 선택 함수 */\r\n  const handleStoreSelection = (selectedStore) => { setSelectedStore(selectedStore); closePopup(); };\r\n\r\n  return (\r\n    <div className=\"Mcart-top\">\r\n      <div className=\"Mcart-h2\">\r\n        <h2>장바구니</h2>\r\n      </div>\r\n      <div className=\"Mcart-btn\">\r\n        <button className=\"Mcart-btn1\">배달주문</button>\r\n      </div>\r\n      <div className=\"midbox\">\r\n        <div className=\"Mcart-mid\">\r\n          <ul className=\"Mcart-ul\">\r\n            <li className=\"Mcart-li1\">\r\n              <div>\r\n                <p>배달주소</p>\r\n              </div>\r\n              <div className=\"Mcart-p\">\r\n                <p>{user.address} {user.detail_address}</p>\r\n              </div>\r\n            </li>\r\n            <li className=\"Mcart-li2\">\r\n              <div>{selectedStore ? selectedStore.store_name : '매장 선택'}</div>\r\n              <div>\r\n              <button onClick={openPopup}>매장선택</button>\r\n                {isPopupOpen && (\r\n                <p>\r\n                  <div id='bg'></div>\r\n                  <div className=\"store-popup\">\r\n                    <h3>매장 선택</h3>\r\n                    <ul>\r\n                      {store.map((storeItem) => (\r\n                        <li key={storeItem.id} onClick={() => handleStoreSelection(storeItem)}>\r\n                          <h1>{storeItem.store_name} </h1>\r\n                          <p>{storeItem.phone}</p>\r\n                          <p>{storeItem.address}</p>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                </p>\r\n                )}\r\n              </div>\r\n            </li>\r\n            <li className=\"Mcart-li3\">\r\n              <div>수령인</div>\r\n              <div>\r\n                <input type=\"text\" value={user.name}></input>\r\n                <button>\r\n                  <p>변경</p>\r\n                </button>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"Mcart-h3\">\r\n          <h3>주문상품</h3>\r\n        </div>\r\n        {cart && cart.length > 0 ? (\r\n          cart.map((prod, index) => (\r\n            <li key={index} className=\"Mcart-li4\">\r\n              <button className=\"Mcart-btn2\" style={{ backgroundImage: 'url(./images/Mcart/icon_x_g.png)'}} onClick={() => removeItemFromCart(index)} ></button>\r\n              {/* 삭제버튼 */}\r\n              <div className=\"Mcart-middle1\">\r\n                <div>\r\n                  <img src={API_URL + prod.img} alt=\"\" />\r\n                </div>\r\n                <div>\r\n                  <div className=\"Mcart-txt\">\r\n                    <div>\r\n                      <h4>{prod.name}</h4>\r\n                    </div>\r\n                    <div id=\"options\">\r\n                      {prod.options.map((option, optionIndex) => (\r\n                        <p key={optionIndex}>\r\n                          {option.option_name}: {option.quantity}\r\n                        </p>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"Mcart-middle2\">\r\n                <div className=\"Mcart-plusb\">\r\n                  <button type=\"button\" onClick={() => prodDecrease(index)}>\r\n                    <div>-</div>\r\n                  </button>\r\n                  <button type=\"button\">\r\n                    {prodQuantities[index] && prodQuantities[index].quantity}\r\n                  </button>\r\n                  <button type=\"button\" onClick={() => prodIncrease(index)}>\r\n                    <span>+</span>\r\n                  </button>\r\n                </div>\r\n                <div>\r\n                  <p>\r\n                    {(\r\n                      prod.totalOptionPrice +\r\n                      (prodQuantities[index]?.quantity || 0) * prod.price\r\n                    ).toLocaleString()} 원\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))\r\n        ) : \r\n          <p>상품이 없습니다.</p>\r\n        }\r\n        <div className=\"Mcart-bottom\">\r\n          총 상품 금액 <span>{ totalProdPrice.toLocaleString() } 원</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"Mcart-botbotton\">\r\n        <NavLink to={'/menu/1'} className=\"botbutton1\">메뉴추가</NavLink>\r\n        <button className=\"botbutton2\" onClick={ handleOrder }>주문하기</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mcart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}