{"ast":null,"code":"import React,{useEffect,useState}from'react';import{NavLink,useLocation}from'react-router-dom';import axios from'axios';import{API_URL}from'../../config/contansts';import\"./Banner.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Banner=()=>{const{pathname}=useLocation();const[currentUrl,setCurrentUrl]=useState(null);const[axiosResult,setAxiosResult]=useState({});const[axiosResultPath,setAxiosResultPath]=useState([]);//props = {title: 맥도날드 프로모션, path: [{url: \"/\", name: \"HOME\"}, {url: \"/promotion\", name: \"What's New\"}, {url: \"/promotion\", name: \"맥도날드 프로모션\"}]}\n// console.log(\"Banner/props: \", props);\nuseEffect(()=>{var _pathname$split;const splitUrl=(_pathname$split=pathname===null||pathname===void 0?void 0:pathname.split('/'))!==null&&_pathname$split!==void 0?_pathname$split:null;console.log(\"splitUrl: \",splitUrl);const location=(splitUrl===null||splitUrl===void 0?void 0:splitUrl.length)>1?splitUrl[2]:null;setCurrentUrl(location);console.log(\"Banner/location: \",location);axios.get(\"\".concat(API_URL,\"/api/banner/\").concat(location)).then(res=>{console.log(\"VBG/res: \",res.data);setAxiosResult(res.data);setAxiosResultPath(JSON.parse(res.data.link));}).catch(err=>{console.log(err);});},[pathname]);let bannerStyle={};if(axiosResult){bannerStyle={background:\"url(\".concat(API_URL+axiosResult.background_img_url,\") 50% 50% no-repeat\")};}return/*#__PURE__*/_jsx(_Fragment,{children:axiosResult&&/*#__PURE__*/_jsx(\"div\",{className:\"banner\",style:bannerStyle,children:/*#__PURE__*/_jsxs(\"div\",{className:\"banner_TextArea\",children:[/*#__PURE__*/_jsx(\"h1\",{children:axiosResult.title}),axiosResult.content&&/*#__PURE__*/_jsx(\"p\",{children:axiosResult.content}),/*#__PURE__*/_jsx(\"ul\",{children:axiosResultPath.map((path,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:path.url,children:path.name})},index))})]})})});};export default Banner;","map":{"version":3,"names":["React","useEffect","useState","NavLink","useLocation","axios","API_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Banner","pathname","currentUrl","setCurrentUrl","axiosResult","setAxiosResult","axiosResultPath","setAxiosResultPath","_pathname$split","splitUrl","split","console","log","location","length","get","concat","then","res","data","JSON","parse","link","catch","err","bannerStyle","background","background_img_url","children","className","style","title","content","map","path","index","to","url","name"],"sources":["C:/Users/user/Desktop/mcdonald-ec2/client/src/components/Banner/Banner.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../config/contansts';\r\nimport \"./Banner.scss\"\r\n\r\nconst Banner = () => {\r\n  const { pathname } = useLocation();\r\n  const [currentUrl, setCurrentUrl] = useState(null);\r\n  const [axiosResult, setAxiosResult] = useState({});\r\n  const [axiosResultPath, setAxiosResultPath] = useState([]);\r\n\r\n  //props = {title: 맥도날드 프로모션, path: [{url: \"/\", name: \"HOME\"}, {url: \"/promotion\", name: \"What's New\"}, {url: \"/promotion\", name: \"맥도날드 프로모션\"}]}\r\n  // console.log(\"Banner/props: \", props);\r\n\r\n  useEffect(() => {\r\n    const splitUrl = pathname?.split('/') ?? null;\r\n    console.log(\"splitUrl: \", splitUrl);\r\n    const location = splitUrl?.length > 1 ? splitUrl[2] : null;\r\n    setCurrentUrl(location);\r\n    console.log(\"Banner/location: \",location);\r\n    axios.get(`${API_URL}/api/banner/${location}`)\r\n    .then(res => {\r\n      console.log(\"VBG/res: \", res.data);\r\n      setAxiosResult(res.data);\r\n      setAxiosResultPath(JSON.parse(res.data.link))\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n  }, [ pathname ])\r\n  \r\n  \r\n  let bannerStyle = {}\r\n  if (axiosResult) {\r\n    bannerStyle = {\r\n      background: `url(${API_URL + axiosResult.background_img_url}) 50% 50% no-repeat`,\r\n    }\r\n  }\r\n  \r\n  return(\r\n    <>\r\n      {axiosResult && <div className=\"banner\" style={bannerStyle}>\r\n        <div className=\"banner_TextArea\">\r\n          <h1>{axiosResult.title}</h1>\r\n          {axiosResult.content && <p>{axiosResult.content}</p>}\r\n          <ul>\r\n            {axiosResultPath.map((path, index) => \r\n              <li key={index}>\r\n                <NavLink to={path.url}>{path.name}</NavLink>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Banner; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,CAAEC,WAAW,KAAQ,kBAAkB,CACvD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,eAAe,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEtB,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAEC,QAAS,CAAC,CAAGV,WAAW,CAAC,CAAC,CAClC,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClD,KAAM,CAACiB,eAAe,CAAEC,kBAAkB,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAE1D;AACA;AAEAD,SAAS,CAAC,IAAM,KAAAoB,eAAA,CACd,KAAM,CAAAC,QAAQ,EAAAD,eAAA,CAAGP,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAES,KAAK,CAAC,GAAG,CAAC,UAAAF,eAAA,UAAAA,eAAA,CAAI,IAAI,CAC7CG,OAAO,CAACC,GAAG,CAAC,YAAY,CAAEH,QAAQ,CAAC,CACnC,KAAM,CAAAI,QAAQ,CAAG,CAAAJ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEK,MAAM,EAAG,CAAC,CAAGL,QAAQ,CAAC,CAAC,CAAC,CAAG,IAAI,CAC1DN,aAAa,CAACU,QAAQ,CAAC,CACvBF,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAACC,QAAQ,CAAC,CACzCrB,KAAK,CAACuB,GAAG,IAAAC,MAAA,CAAIvB,OAAO,iBAAAuB,MAAA,CAAeH,QAAQ,CAAE,CAAC,CAC7CI,IAAI,CAACC,GAAG,EAAI,CACXP,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEM,GAAG,CAACC,IAAI,CAAC,CAClCd,cAAc,CAACa,GAAG,CAACC,IAAI,CAAC,CACxBZ,kBAAkB,CAACa,IAAI,CAACC,KAAK,CAACH,GAAG,CAACC,IAAI,CAACG,IAAI,CAAC,CAAC,CAC/C,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,EAAI,CACdb,OAAO,CAACC,GAAG,CAACY,GAAG,CAAC,CAClB,CAAC,CAAC,CACJ,CAAC,CAAE,CAAEvB,QAAQ,CAAE,CAAC,CAGhB,GAAI,CAAAwB,WAAW,CAAG,CAAC,CAAC,CACpB,GAAIrB,WAAW,CAAE,CACfqB,WAAW,CAAG,CACZC,UAAU,QAAAV,MAAA,CAASvB,OAAO,CAAGW,WAAW,CAACuB,kBAAkB,uBAC7D,CAAC,CACH,CAEA,mBACEhC,IAAA,CAAAI,SAAA,EAAA6B,QAAA,CACGxB,WAAW,eAAIT,IAAA,QAAKkC,SAAS,CAAC,QAAQ,CAACC,KAAK,CAAEL,WAAY,CAAAG,QAAA,cACzD/B,KAAA,QAAKgC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9BjC,IAAA,OAAAiC,QAAA,CAAKxB,WAAW,CAAC2B,KAAK,CAAK,CAAC,CAC3B3B,WAAW,CAAC4B,OAAO,eAAIrC,IAAA,MAAAiC,QAAA,CAAIxB,WAAW,CAAC4B,OAAO,CAAI,CAAC,cACpDrC,IAAA,OAAAiC,QAAA,CACGtB,eAAe,CAAC2B,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAC/BxC,IAAA,OAAAiC,QAAA,cACEjC,IAAA,CAACL,OAAO,EAAC8C,EAAE,CAAEF,IAAI,CAACG,GAAI,CAAAT,QAAA,CAAEM,IAAI,CAACI,IAAI,CAAU,CAAC,EADrCH,KAEL,CACN,CAAC,CACC,CAAC,EACF,CAAC,CACH,CAAC,CAEN,CAAC,CAEP,CAAC,CAED,cAAe,CAAAnC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}