{"ast":null,"code":"import{useLocation}from'react-router-dom';import{API_URL}from'../../../config/contansts';import{useEffect,useState}from'react';import BtnArea from'../../../components/BtnArea/BtnArea';import'./DetailPage.scss';import axios from'axios';// const tmps = [\n//   {table: \"promotion\", id: 1, title: \"신선한 토마토와 매콤한 소스의 만남!\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1679374416681.jpg\"},\n//   {table: \"promotion\", id: 2, title: \"미트칠리 버거와 연말을 더 특별하게\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1701410863762.jpg\"},\n//   {table: \"promotion\", id: 3, title: \"갓성비 간식 맛집, 맥도날드 해피 스낵!\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1697093210662.jpg\"},\n//   {table: \"promotion\", id: 4, title: \"맥도날드 M오더\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1698130994298.jpg\"},\n//   {table: \"promotion\", id: 5, title: \"상콤달콤!\\nNEW 자두 천도복숭아 칠러 출시!\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1680713561787.jpg\"},\n//   {table: \"promotion\", id: 6, title: \"첫 적립 시 2000 포인트 제공!\\n새로워진 마이 맥도날드 리워드!\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1680855222777.jpg\"},\n//   {table: \"happymeal\", id: 1, title: \"입양하세요!\\n귀여운 애완 동물들을\\n맥도날드 해피밀 토이로 만나보세요!\", date: \"2023-12-25\", read_count: \"101010\", content: \"/upload/whatsNew/happyMeal/1698285826592.jpg\"},\n// ]\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DetailPage=()=>{const{pathname}=useLocation();const[targetObject,setTargetObject]=useState({});useEffect(()=>{var _pathname$split;const splitUrl=(_pathname$split=pathname===null||pathname===void 0?void 0:pathname.split('/'))!==null&&_pathname$split!==void 0?_pathname$split:null;const sub_category_id=splitUrl[2];const item_id=splitUrl[3];console.log(\"DetailPromotion/locationHook: \",splitUrl);axios.get(\"\".concat(API_URL,\"/api/whats-new/\").concat(sub_category_id,\"/\").concat(item_id)).then(res=>{console.log(res.data);setTargetObject(res.data);}).catch(err=>{console.error(err);});},[pathname]);return/*#__PURE__*/_jsxs(\"div\",{className:\"inner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail_Promotion_Top\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"detail_Promotion_Title\",children:targetObject.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:targetObject.created_at}),/*#__PURE__*/_jsx(\"b\",{children:targetObject.read_count})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detail_Promotion_Content\",children:/*#__PURE__*/_jsx(\"img\",{src:API_URL+targetObject.content_img_url,alt:\"content \\uC774\\uBBF8\\uC9C0\"})}),/*#__PURE__*/_jsx(BtnArea,{})]});};export default DetailPage;","map":{"version":3,"names":["useLocation","API_URL","useEffect","useState","BtnArea","axios","jsx","_jsx","jsxs","_jsxs","DetailPage","pathname","targetObject","setTargetObject","_pathname$split","splitUrl","split","sub_category_id","item_id","console","log","get","concat","then","res","data","catch","err","error","className","children","title","created_at","read_count","src","content_img_url","alt"],"sources":["C:/Users/user/Desktop/mcdonald-ec2/client/src/page/WhatsNew/DetailPage/DetailPage.js"],"sourcesContent":["import {useLocation } from 'react-router-dom';\r\nimport { API_URL } from '../../../config/contansts';\r\nimport { useEffect, useState } from 'react';\r\nimport BtnArea from '../../../components/BtnArea/BtnArea';\r\nimport './DetailPage.scss';\r\nimport axios from 'axios';\r\n\r\n// const tmps = [\r\n//   {table: \"promotion\", id: 1, title: \"신선한 토마토와 매콤한 소스의 만남!\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1679374416681.jpg\"},\r\n//   {table: \"promotion\", id: 2, title: \"미트칠리 버거와 연말을 더 특별하게\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1701410863762.jpg\"},\r\n//   {table: \"promotion\", id: 3, title: \"갓성비 간식 맛집, 맥도날드 해피 스낵!\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1697093210662.jpg\"},\r\n//   {table: \"promotion\", id: 4, title: \"맥도날드 M오더\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1698130994298.jpg\"},\r\n//   {table: \"promotion\", id: 5, title: \"상콤달콤!\\nNEW 자두 천도복숭아 칠러 출시!\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1680713561787.jpg\"},\r\n//   {table: \"promotion\", id: 6, title: \"첫 적립 시 2000 포인트 제공!\\n새로워진 마이 맥도날드 리워드!\", date: \"2023-11-30\", read_count: \"1200\", content: \"/upload/whatsNew/promotion/1680855222777.jpg\"},\r\n//   {table: \"happymeal\", id: 1, title: \"입양하세요!\\n귀여운 애완 동물들을\\n맥도날드 해피밀 토이로 만나보세요!\", date: \"2023-12-25\", read_count: \"101010\", content: \"/upload/whatsNew/happyMeal/1698285826592.jpg\"},\r\n// ]\r\n\r\nconst DetailPage = () => {\r\n  const { pathname } = useLocation();\r\n  \r\n  const [targetObject, setTargetObject] = useState({});\r\n  \r\n  useEffect(()=> {\r\n    const splitUrl = pathname?.split('/') ?? null;\r\n    const sub_category_id = splitUrl[2];\r\n    const item_id = splitUrl[3];\r\n    console.log(\"DetailPromotion/locationHook: \",splitUrl);\r\n\r\n    axios.get(`${API_URL}/api/whats-new/${sub_category_id}/${item_id}`)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        setTargetObject(res.data);\r\n      }).catch((err) =>{\r\n        console.error(err);\r\n      });\r\n  }, [pathname]);\r\n\r\n\r\n  return(\r\n    <div className='inner'>\r\n      <div className='detail_Promotion_Top'>\r\n        <h2 className='detail_Promotion_Title'>{targetObject.title}</h2>\r\n        <div>\r\n          <b>{targetObject.created_at}</b>\r\n          <b>{targetObject.read_count}</b>\r\n        </div>\r\n      </div>\r\n      <div className='detail_Promotion_Content'>\r\n        <img src={API_URL+targetObject.content_img_url} alt=\"content 이미지\" />\r\n      </div>\r\n      <BtnArea></BtnArea>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DetailPage; "],"mappings":"AAAA,OAAQA,WAAW,KAAQ,kBAAkB,CAC7C,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,OAAO,KAAM,qCAAqC,CACzD,MAAO,mBAAmB,CAC1B,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEA,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEC,QAAS,CAAC,CAAGX,WAAW,CAAC,CAAC,CAElC,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEpDD,SAAS,CAAC,IAAK,KAAAY,eAAA,CACb,KAAM,CAAAC,QAAQ,EAAAD,eAAA,CAAGH,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEK,KAAK,CAAC,GAAG,CAAC,UAAAF,eAAA,UAAAA,eAAA,CAAI,IAAI,CAC7C,KAAM,CAAAG,eAAe,CAAGF,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAAAG,OAAO,CAAGH,QAAQ,CAAC,CAAC,CAAC,CAC3BI,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAACL,QAAQ,CAAC,CAEtDV,KAAK,CAACgB,GAAG,IAAAC,MAAA,CAAIrB,OAAO,oBAAAqB,MAAA,CAAkBL,eAAe,MAAAK,MAAA,CAAIJ,OAAO,CAAE,CAAC,CAChEK,IAAI,CAACC,GAAG,EAAI,CACXL,OAAO,CAACC,GAAG,CAACI,GAAG,CAACC,IAAI,CAAC,CACrBZ,eAAe,CAACW,GAAG,CAACC,IAAI,CAAC,CAC3B,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,EAAI,CACfR,OAAO,CAACS,KAAK,CAACD,GAAG,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAAE,CAAChB,QAAQ,CAAC,CAAC,CAGd,mBACEF,KAAA,QAAKoB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpBrB,KAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCvB,IAAA,OAAIsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAElB,YAAY,CAACmB,KAAK,CAAK,CAAC,cAChEtB,KAAA,QAAAqB,QAAA,eACEvB,IAAA,MAAAuB,QAAA,CAAIlB,YAAY,CAACoB,UAAU,CAAI,CAAC,cAChCzB,IAAA,MAAAuB,QAAA,CAAIlB,YAAY,CAACqB,UAAU,CAAI,CAAC,EAC7B,CAAC,EACH,CAAC,cACN1B,IAAA,QAAKsB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvCvB,IAAA,QAAK2B,GAAG,CAAEjC,OAAO,CAACW,YAAY,CAACuB,eAAgB,CAACC,GAAG,CAAC,4BAAa,CAAE,CAAC,CACjE,CAAC,cACN7B,IAAA,CAACH,OAAO,GAAU,CAAC,EAChB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAM,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}