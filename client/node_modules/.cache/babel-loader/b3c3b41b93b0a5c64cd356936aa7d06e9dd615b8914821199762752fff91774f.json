{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import'./Faq.scss';import AccordionItem from'./Accordion';import axios from'axios';import{API_URL}from'../../../../config/contansts';import BottomMenu from\"../Component/BottomMenu\";import Buttonmain from\"../../../../components/Main/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Faq=()=>{const[categories,setCategories]=useState([]);const[selectedCategory,setSelectedCategory]=useState({});const[searchT,setSearchT]=useState('');//then catch > promise에 대한 에러처리용\nuseEffect(()=>{axios.get(\"\".concat(API_URL,\"/api/faq\")).then(response=>{//console.log(\"response:\",response);\nsetCategories(response.data);setSelectedCategory({category:'전체'});}).catch(error=>console.error('에러:',error));},[]);const handleCategory=category=>{setSelectedCategory(category);};const handleSearch=e=>{setSearchT(e.target.value);};const uniqueCategories=Array.from(new Set(categories.map(category=>category.category)));return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BottomMenu,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"customer-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown\",children:/*#__PURE__*/_jsx(\"select\",{className:\"dropmenu\",value:selectedCategory.category,onChange:e=>handleCategory({category:e.target.value}),children:[...uniqueCategories].map(categoryName=>/*#__PURE__*/_jsx(\"option\",{value:categoryName,children:categoryName},categoryName))})}),/*#__PURE__*/_jsx(\"input\",{className:\"custom-input\",type:\"text\",value:searchT,onChange:handleSearch,placeholder:\"\\uAC80\\uC0C9\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"category-buttons\",children:uniqueCategories.map(categoryName=>/*#__PURE__*/_jsxs(\"div\",{className:\"radio-button-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:categoryName,value:categoryName,checked:selectedCategory.category===categoryName,onChange:()=>handleCategory({category:categoryName})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:categoryName,children:categoryName})]},categoryName))}),/*#__PURE__*/_jsx(\"div\",{className:\"accordion-container\",children:selectedCategory.category&&selectedCategory.category!=='전체'?/*#__PURE__*/_jsx(\"div\",{children:categories.filter(category=>category.category===selectedCategory.category).filter(item=>item.title.toLowerCase().includes(searchT.toLowerCase())||item.description.toLowerCase().includes(searchT.toLowerCase())).map((item,index)=>/*#__PURE__*/_jsx(AccordionItem,{category:item,item:item},index))}):/*#__PURE__*/_jsx(\"div\",{children:categories.filter(category=>category.category!=='전체').filter(item=>item.title.toLowerCase().includes(searchT.toLowerCase())||item.description.toLowerCase().includes(searchT.toLowerCase())).map((item,index)=>/*#__PURE__*/_jsx(AccordionItem,{category:item,item:item},index))})})]}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Buttonmain,{})})]});};export default Faq;","map":{"version":3,"names":["React","useState","useEffect","AccordionItem","axios","API_URL","BottomMenu","Buttonmain","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Faq","categories","setCategories","selectedCategory","setSelectedCategory","searchT","setSearchT","get","concat","then","response","data","category","catch","error","console","handleCategory","handleSearch","e","target","value","uniqueCategories","Array","from","Set","map","children","className","onChange","categoryName","type","placeholder","id","checked","htmlFor","filter","item","title","toLowerCase","includes","description","index"],"sources":["C:/Users/user/Desktop/mcdonald-ec2/client/src/page/Story/Competition/Faq/Faq.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport './Faq.scss';\r\nimport AccordionItem from './Accordion';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../../../config/contansts';\r\nimport BottomMenu from \"../Component/BottomMenu\";\r\nimport Buttonmain from \"../../../../components/Main/Button\";\r\n\r\nconst Faq = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState({});\r\n  const [searchT, setSearchT] = useState('');\r\n\r\n  //then catch > promise에 대한 에러처리용\r\n  useEffect(() => {\r\n    axios.get(`${API_URL}/api/faq`)\r\n      .then(response => {\r\n        //console.log(\"response:\",response);\r\n        setCategories(response.data);\r\n        setSelectedCategory({ category: '전체' });\r\n      })\r\n      .catch(error => console.error('에러:', error));\r\n  }, []);\r\n\r\n  const handleCategory = (category) => {\r\n    setSelectedCategory(category);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchT(e.target.value);\r\n  };\r\n\r\n  const uniqueCategories = Array.from(new Set(categories.map(category => category.category)));\r\n\r\n  return (\r\n    <>\r\n    <BottomMenu/>\r\n    <div className=\"customer-container\">\r\n      <div className=\"search-container\">\r\n        <div className=\"dropdown\">\r\n          <select className=\"dropmenu\"\r\n            value={selectedCategory.category}\r\n            onChange={(e) => handleCategory({ category: e.target.value })}\r\n          >\r\n            {[...uniqueCategories].map(categoryName => (\r\n              <option key={categoryName} value={categoryName}>{categoryName}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <input\r\n          className=\"custom-input\"\r\n          type=\"text\"\r\n          value={searchT}\r\n          onChange={handleSearch}\r\n          placeholder=\"검색\"\r\n        />\r\n      </div>\r\n      <div className=\"category-buttons\">\r\n        {uniqueCategories.map(categoryName => (\r\n          <div key={categoryName} className=\"radio-button-container\">\r\n            <input\r\n              type=\"radio\"\r\n              id={categoryName}\r\n              value={categoryName}\r\n              checked={selectedCategory.category === categoryName}\r\n              onChange={() => handleCategory({ category: categoryName })}\r\n            />\r\n            <label htmlFor={categoryName}>{categoryName}</label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"accordion-container\">\r\n        {selectedCategory.category && selectedCategory.category !== '전체' ? (\r\n          <div>\r\n            {categories\r\n              .filter(category => category.category === selectedCategory.category)\r\n              .filter(item =>\r\n                item.title.toLowerCase().includes(searchT.toLowerCase()) ||\r\n                item.description.toLowerCase().includes(searchT.toLowerCase())\r\n              )\r\n              .map((item, index) => (\r\n                <AccordionItem key={index} category={item} item={item} />\r\n              ))}\r\n          </div>  \r\n        ) : (\r\n          <div>\r\n            {categories\r\n              .filter(category => category.category !== '전체')\r\n              .filter(item =>\r\n                item.title.toLowerCase().includes(searchT.toLowerCase()) ||\r\n                item.description.toLowerCase().includes(searchT.toLowerCase())\r\n              )\r\n              .map((item, index) => (\r\n                <AccordionItem key={index} category={item} item={item} />\r\n              ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n    <>\r\n      <Buttonmain/>\r\n    </>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Faq;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}