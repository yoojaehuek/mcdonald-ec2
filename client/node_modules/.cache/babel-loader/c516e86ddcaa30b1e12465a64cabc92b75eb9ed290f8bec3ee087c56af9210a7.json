{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Product from\"../../components/Product/Product\";import BtnMore from\"../../components/BtnMore/BtnMore\";import{API_URL}from\"../../config/contansts\";import\"./Menu.scss\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Menu(){const[select,setSelect]=useState(\"single\");//단품,세트메뉴 선택\nconst[productCount,setProductCount]=useState(6);//페이지를 열었을때 보여지는상품개수\nconst{subcategory_id}=useParams();// 주소창에서 subcategory_id 를 가져옴\nconst[products,setProducts]=useState([]);const[visible,setVisible]=useState();const[btn1,setBtn1]=useState(\"\");const[btn2,setBtn2]=useState(\"\");useEffect(()=>{axios.get(\"\".concat(API_URL,\"/api/product/subcategory/\").concat(subcategory_id)).then(res=>{setProducts(res.data);if(subcategory_id==='1'){setBtn1(\"단품메뉴\");setVisible(true);setBtn2(\"세트메뉴\");}else if(subcategory_id==='2'){setBtn1(\"맥런치세트\");setVisible(false);}else if(subcategory_id==='3'){setBtn1(\"단품메뉴\");setVisible(true);setBtn2(\"세트메뉴\");}else if(subcategory_id==='4'){setBtn1(\"해피스낵\");setVisible(false);}else if(subcategory_id==='5'){setBtn1(\"사이드\");setVisible(true);setBtn2(\"디저트\");}else if(subcategory_id==='6'){setBtn1(\"맥카페\");setVisible(true);setBtn2(\"음료\");}else if(subcategory_id==='7'){setBtn1(\"AM 04:00~AM 10:30\");setVisible(true);setBtn2(\"AM 10:30~AM 04:00\");}}).catch(err=>{console.error(err);});},[subcategory_id]);/** product_id 가 false 이면 singleProd 로, true면 setProd 로 담음 */const singleProd=products.filter(product=>!product.product_category);const setProd=products.filter(product=>product.product_category);/**버튼을 누르면 보여지는 상품의 개수를 늘려주는 함수 */const increaseProductCount=()=>{setProductCount(prevCount=>prevCount+6);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"menu-form\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"select\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"select-btn \".concat(select===\"single\"?\"active\":\"\"),onClick:()=>{setSelect(\"single\");setProductCount(6);},children:btn1}),visible===true?/*#__PURE__*/_jsx(\"button\",{className:\"select-btn \".concat(select===\"set\"?\"active\":\"\"),onClick:()=>{setSelect(\"set\");setProductCount(6);},children:btn2}):\"\"]})}),/*#__PURE__*/_jsx(\"div\",{children:select===\"single\"?/*#__PURE__*/ //단품메뉴\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{id:\"prd-count\",children:[singleProd.length,\" Products\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-grid\",children:singleProd.slice(0,productCount).map((product,index)=>/*#__PURE__*/_jsx(Product,{props:product},index))})]}):/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsxs(\"h3\",{id:\"prd-count\",children:[setProd.length,\" Products\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-grid\",children:setProd.slice(0,productCount).map((product,index)=>/*#__PURE__*/_jsx(Product,{props:product},index))})]})}),/*#__PURE__*/_jsx(BtnMore,{onClick:increaseProductCount})]})});}export default Menu;","map":{"version":3,"names":["React","useEffect","useState","Product","BtnMore","API_URL","axios","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Menu","select","setSelect","productCount","setProductCount","subcategory_id","products","setProducts","visible","setVisible","btn1","setBtn1","btn2","setBtn2","get","concat","then","res","data","catch","err","console","error","singleProd","filter","product","product_category","setProd","increaseProductCount","prevCount","children","id","className","onClick","length","slice","map","index","props"],"sources":["C:/Users/user/Desktop/mcdonald-ec2/client/src/page/Menu/Menu.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Product from \"../../components/Product/Product\";\r\nimport BtnMore from \"../../components/BtnMore/BtnMore\";\r\nimport { API_URL } from \"../../config/contansts\";\r\nimport \"./Menu.scss\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nfunction Menu() {\r\n  const [select, setSelect] = useState(\"single\"); //단품,세트메뉴 선택\r\n  const [productCount, setProductCount] = useState(6); //페이지를 열었을때 보여지는상품개수\r\n  const { subcategory_id } = useParams(); // 주소창에서 subcategory_id 를 가져옴\r\n  const [products, setProducts] = useState([]);\r\n  const [visible, setVisible] = useState();\r\n  const [btn1, setBtn1] = useState(\"\");\r\n  const [btn2, setBtn2] = useState(\"\");\r\n\r\n    useEffect(()=>{\r\n        axios.get(`${API_URL}/api/product/subcategory/${subcategory_id}`)\r\n        .then(res => {\r\n            setProducts(res.data);\r\n            if(subcategory_id === '1') {setBtn1(\"단품메뉴\"); setVisible(true); setBtn2(\"세트메뉴\"); }\r\n            else if(subcategory_id === '2'){ setBtn1(\"맥런치세트\"); setVisible(false);}\r\n            else if(subcategory_id === '3') {setBtn1(\"단품메뉴\"); setVisible(true); setBtn2(\"세트메뉴\");} \r\n            else if(subcategory_id === '4') {setBtn1(\"해피스낵\"); setVisible(false); }\r\n            else if(subcategory_id === '5') {setBtn1(\"사이드\"); setVisible(true); setBtn2(\"디저트\"); }\r\n            else if(subcategory_id === '6') {setBtn1(\"맥카페\"); setVisible(true); setBtn2(\"음료\"); }\r\n            else if(subcategory_id === '7') {setBtn1(\"AM 04:00~AM 10:30\"); setVisible(true); setBtn2(\"AM 10:30~AM 04:00\"); }\r\n        }).catch(err => {\r\n            console.error(err);\r\n        })\r\n    }, [subcategory_id])\r\n    /** product_id 가 false 이면 singleProd 로, true면 setProd 로 담음 */\r\n    const singleProd = products.filter(product => !product.product_category);\r\n    const setProd = products.filter(product => product.product_category);\r\n\r\n  /**버튼을 누르면 보여지는 상품의 개수를 늘려주는 함수 */\r\n  const increaseProductCount = () => {\r\n    setProductCount((prevCount) => prevCount + 6);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div id=\"menu-form\">\r\n        <div>\r\n          <div id=\"select\">\r\n            <button\r\n              className={`select-btn ${select === \"single\" ? \"active\" : \"\"}`}\r\n              onClick={() => {\r\n                setSelect(\"single\");\r\n                setProductCount(6);\r\n              }}\r\n            >\r\n              {btn1}\r\n            </button>\r\n            {visible === true ? (\r\n              <button\r\n                className={`select-btn ${select === \"set\" ? \"active\" : \"\"}`}\r\n                onClick={() => {\r\n                  setSelect(\"set\");\r\n                  setProductCount(6);\r\n                }}\r\n              >\r\n                {btn2}\r\n              </button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          {select === \"single\" ? ( //단품메뉴\r\n            <div>\r\n              <h3 id=\"prd-count\">{singleProd.length} Products</h3>\r\n              <div className=\"menu-grid\">\r\n                {singleProd.slice(0, productCount).map((product, index) => (\r\n                  <Product key={index} props={product} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div> {/* 세트메뉴 */}\r\n              <h3 id=\"prd-count\">{setProd.length} Products</h3>\r\n              <div className=\"menu-grid\">\r\n                {setProd.slice(0, productCount).map((product, index) => (\r\n                  <Product key={index} props={product} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <BtnMore onClick={increaseProductCount} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,kCAAkC,CACtD,MAAO,CAAAC,OAAO,KAAM,kCAAkC,CACtD,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,aAAa,CACpB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7C,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,QAAQ,CAAC,CAAE;AAChD,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAE;AACrD,KAAM,CAAEiB,cAAe,CAAC,CAAGZ,SAAS,CAAC,CAAC,CAAE;AACxC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CACxC,KAAM,CAACsB,IAAI,CAAEC,OAAO,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACwB,IAAI,CAAEC,OAAO,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAElCD,SAAS,CAAC,IAAI,CACVK,KAAK,CAACsB,GAAG,IAAAC,MAAA,CAAIxB,OAAO,8BAAAwB,MAAA,CAA4BV,cAAc,CAAE,CAAC,CAChEW,IAAI,CAACC,GAAG,EAAI,CACTV,WAAW,CAACU,GAAG,CAACC,IAAI,CAAC,CACrB,GAAGb,cAAc,GAAK,GAAG,CAAE,CAACM,OAAO,CAAC,MAAM,CAAC,CAAEF,UAAU,CAAC,IAAI,CAAC,CAAEI,OAAO,CAAC,MAAM,CAAC,CAAE,CAAC,IAC5E,IAAGR,cAAc,GAAK,GAAG,CAAC,CAAEM,OAAO,CAAC,OAAO,CAAC,CAAEF,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,IACjE,IAAGJ,cAAc,GAAK,GAAG,CAAE,CAACM,OAAO,CAAC,MAAM,CAAC,CAAEF,UAAU,CAAC,IAAI,CAAC,CAAEI,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,IAChF,IAAGR,cAAc,GAAK,GAAG,CAAE,CAACM,OAAO,CAAC,MAAM,CAAC,CAAEF,UAAU,CAAC,KAAK,CAAC,CAAE,CAAC,IACjE,IAAGJ,cAAc,GAAK,GAAG,CAAE,CAACM,OAAO,CAAC,KAAK,CAAC,CAAEF,UAAU,CAAC,IAAI,CAAC,CAAEI,OAAO,CAAC,KAAK,CAAC,CAAE,CAAC,IAC/E,IAAGR,cAAc,GAAK,GAAG,CAAE,CAACM,OAAO,CAAC,KAAK,CAAC,CAAEF,UAAU,CAAC,IAAI,CAAC,CAAEI,OAAO,CAAC,IAAI,CAAC,CAAE,CAAC,IAC9E,IAAGR,cAAc,GAAK,GAAG,CAAE,CAACM,OAAO,CAAC,mBAAmB,CAAC,CAAEF,UAAU,CAAC,IAAI,CAAC,CAAEI,OAAO,CAAC,mBAAmB,CAAC,CAAE,CACnH,CAAC,CAAC,CAACM,KAAK,CAACC,GAAG,EAAI,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,CAAE,CAACf,cAAc,CAAC,CAAC,CACpB,6DACA,KAAM,CAAAkB,UAAU,CAAGjB,QAAQ,CAACkB,MAAM,CAACC,OAAO,EAAI,CAACA,OAAO,CAACC,gBAAgB,CAAC,CACxE,KAAM,CAAAC,OAAO,CAAGrB,QAAQ,CAACkB,MAAM,CAACC,OAAO,EAAIA,OAAO,CAACC,gBAAgB,CAAC,CAEtE,kCACA,KAAM,CAAAE,oBAAoB,CAAGA,CAAA,GAAM,CACjCxB,eAAe,CAAEyB,SAAS,EAAKA,SAAS,CAAG,CAAC,CAAC,CAC/C,CAAC,CAED,mBACElC,IAAA,CAAAI,SAAA,EAAA+B,QAAA,cACEjC,KAAA,QAAKkC,EAAE,CAAC,WAAW,CAAAD,QAAA,eACjBnC,IAAA,QAAAmC,QAAA,cACEjC,KAAA,QAAKkC,EAAE,CAAC,QAAQ,CAAAD,QAAA,eACdnC,IAAA,WACEqC,SAAS,eAAAjB,MAAA,CAAgBd,MAAM,GAAK,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC/DgC,OAAO,CAAEA,CAAA,GAAM,CACb/B,SAAS,CAAC,QAAQ,CAAC,CACnBE,eAAe,CAAC,CAAC,CAAC,CACpB,CAAE,CAAA0B,QAAA,CAEDpB,IAAI,CACC,CAAC,CACRF,OAAO,GAAK,IAAI,cACfb,IAAA,WACEqC,SAAS,eAAAjB,MAAA,CAAgBd,MAAM,GAAK,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC5DgC,OAAO,CAAEA,CAAA,GAAM,CACb/B,SAAS,CAAC,KAAK,CAAC,CAChBE,eAAe,CAAC,CAAC,CAAC,CACpB,CAAE,CAAA0B,QAAA,CAEDlB,IAAI,CACC,CAAC,CAET,EACD,EACE,CAAC,CACH,CAAC,cACNjB,IAAA,QAAAmC,QAAA,CACG7B,MAAM,GAAK,QAAQ,eAAK;AACvBJ,KAAA,QAAAiC,QAAA,eACEjC,KAAA,OAAIkC,EAAE,CAAC,WAAW,CAAAD,QAAA,EAAEP,UAAU,CAACW,MAAM,CAAC,WAAS,EAAI,CAAC,cACpDvC,IAAA,QAAKqC,SAAS,CAAC,WAAW,CAAAF,QAAA,CACvBP,UAAU,CAACY,KAAK,CAAC,CAAC,CAAEhC,YAAY,CAAC,CAACiC,GAAG,CAAC,CAACX,OAAO,CAAEY,KAAK,gBACpD1C,IAAA,CAACN,OAAO,EAAaiD,KAAK,CAAEb,OAAQ,EAAtBY,KAAwB,CACvC,CAAC,CACC,CAAC,EACH,CAAC,cAENxC,KAAA,QAAAiC,QAAA,EAAK,GAAC,cACJjC,KAAA,OAAIkC,EAAE,CAAC,WAAW,CAAAD,QAAA,EAAEH,OAAO,CAACO,MAAM,CAAC,WAAS,EAAI,CAAC,cACjDvC,IAAA,QAAKqC,SAAS,CAAC,WAAW,CAAAF,QAAA,CACvBH,OAAO,CAACQ,KAAK,CAAC,CAAC,CAAEhC,YAAY,CAAC,CAACiC,GAAG,CAAC,CAACX,OAAO,CAAEY,KAAK,gBACjD1C,IAAA,CAACN,OAAO,EAAaiD,KAAK,CAAEb,OAAQ,EAAtBY,KAAwB,CACvC,CAAC,CACC,CAAC,EACH,CACN,CACE,CAAC,cACN1C,IAAA,CAACL,OAAO,EAAC2C,OAAO,CAAEL,oBAAqB,CAAE,CAAC,EACvC,CAAC,CACN,CAAC,CAEP,CAEA,cAAe,CAAA5B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}