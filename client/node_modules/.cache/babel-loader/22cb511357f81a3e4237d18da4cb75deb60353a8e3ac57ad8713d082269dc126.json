{"ast":null,"code":"import axios from\"axios\";import{useState}from\"react\";import{API_URL}from\"../../../config/contansts\";import{setCookie}from\"../../../utils/cookie\";import{useNavigate}from\"react-router-dom\";import{Button,TextField,Container,CssBaseline,Typography,Paper}from\"@mui/material\";import{Height}from\"@mui/icons-material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ALogin=()=>{const navigate=useNavigate();const setTime=3600000;//1시간 (1000 = 1초)\nconst[inputs,setInputs]=useState({id:'',password:''});const{id,password}=inputs;// 비구조화 할당을 통해 값 추출\nconst onChange=e=>{const{value,name}=e.target;// 우선 e.target 에서 name 과 value 를 추출\nsetInputs({...inputs,// 기존의 input 객체를 복사한 뒤\n[name]:value// name 키를 가진 값을 value 로 설정\n});};const onLogin=()=>{console.log(id,password);axios.post(\"\".concat(API_URL,\"/api/admin/login\"),{id,password}).then(res=>{console.log(res);setCookie('login',res.data.data,{expires:new Date(Date.now()+setTime)});navigate('/admin');}).catch(err=>{console.error(err.response.data);alert('로그인 실패!');});};return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",sx:{marginTop:\"12vw\"},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsxs(Typography,{component:\"h1\",variant:\"h5\",mb:2,children:[\"\\uAD00\\uB9AC\\uC790 \\uB85C\\uADF8\\uC778\",/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.8rem'},children:[\"ID: i1004902@naver.com\",/*#__PURE__*/_jsx(\"br\",{}),\"pwd: 123\"]})]}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,id:\"id\",label:\"\\uC544\\uC774\\uB514\",name:\"id\",autoFocus:true,onChange:onChange,value:id}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,name:\"password\",label:\"\\uBE44\\uBC00\\uBC88\\uD638\",type:\"password\",id:\"password\",onChange:onChange,value:password}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",fullWidth:true,sx:{mt:2,mb:2},onClick:onLogin,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"a\",{href:\"javascript:location.replace('/app1')\",children:\"\\uBA54\\uC778 \\uD398\\uC774\\uC9C0\\uB85C\"})]})]});};export default ALogin;","map":{"version":3,"names":["axios","useState","API_URL","setCookie","useNavigate","Button","TextField","Container","CssBaseline","Typography","Paper","Height","jsx","_jsx","jsxs","_jsxs","ALogin","navigate","setTime","inputs","setInputs","id","password","onChange","e","value","name","target","onLogin","console","log","post","concat","then","res","data","expires","Date","now","catch","err","error","response","alert","component","maxWidth","sx","marginTop","children","elevation","padding","display","flexDirection","alignItems","variant","mb","style","fontSize","margin","fullWidth","label","autoFocus","type","mt","onClick","href"],"sources":["C:/Users/user/Desktop/mcdonald-ec2/client/src/Admin/page/ALogin/ALogin.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { API_URL } from \"../../../config/contansts\";\r\nimport { setCookie } from \"../../../utils/cookie\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Button, TextField, Container, CssBaseline, Typography, Paper } from \"@mui/material\";\r\nimport { Height } from \"@mui/icons-material\";\r\n\r\nconst ALogin = () => {\r\n  const navigate = useNavigate();\r\n  const setTime = 3600000; //1시간 (1000 = 1초)\r\n  const [inputs, setInputs] = useState({\r\n    id: '',\r\n    password: ''\r\n  });\r\n\r\n  const { id, password } = inputs; // 비구조화 할당을 통해 값 추출\r\n\r\n  const onChange = (e) => {\r\n    const { value, name } = e.target; // 우선 e.target 에서 name 과 value 를 추출\r\n    setInputs({\r\n      ...inputs, // 기존의 input 객체를 복사한 뒤\r\n      [name]: value // name 키를 가진 값을 value 로 설정\r\n    });\r\n  };\r\n\r\n  const onLogin = () => {\r\n    console.log(id, password);\r\n    axios.post(`${API_URL}/api/admin/login`, {id, password})\r\n    .then(res => {\r\n      console.log(res);\r\n      setCookie('login', res.data.data,{\r\n        expires: new Date(Date.now() + setTime),\r\n      });\r\n      navigate('/admin');\r\n    }).catch(err => {\r\n      console.error(err.response.data);\r\n      alert('로그인 실패!');\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" sx={{marginTop: \"12vw\"}}>\r\n      <CssBaseline />\r\n      <Paper elevation={3} sx={{ padding: 4, display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\r\n        <Typography component=\"h1\" variant=\"h5\" mb={2}>\r\n          관리자 로그인\r\n          <p style={{ fontSize: '0.8rem'}}>ID: i1004902@naver.com<br/>pwd: 123</p>\r\n        </Typography>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          fullWidth\r\n          id=\"id\"\r\n          label=\"아이디\"\r\n          name=\"id\"\r\n          autoFocus\r\n          onChange={onChange}\r\n          value={id}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          fullWidth\r\n          name=\"password\"\r\n          label=\"비밀번호\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          onChange={onChange}\r\n          value={password}\r\n        />\r\n        <Button variant=\"contained\" fullWidth sx={{ mt: 2, mb: 2 }} onClick={onLogin}>\r\n          로그인\r\n        </Button>\r\n        <a href=\"javascript:location.replace('/app1')\">메인 페이지로</a>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ALogin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}