{"ast":null,"code":"import React,{useEffect,useState}from'react';import Slider from\"../components/Main/Slider\";import Card from\"../components/Card/Card\";import Buttonmain from\"../components/Main/Button\";import{animateScroll as scroll}from'react-scroll';import\"./Main.scss\";import axios from'axios';import{API_URL}from'../config/contansts';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Main=()=>{const imagesPerPage=6;// 페이지 당 보여질 이미지 개수\nconst[visibleImages,setVisibleImages]=useState(imagesPerPage);const[tmps,setTmps]=useState([]);useEffect(()=>{axios.get(\"\".concat(API_URL,\"/api/whats-new\")).then(res=>{console.log(\"whats-new: \",res.data);setTmps(res.data);}).catch(err=>{console.error(err);});},[]);const handleShowMore=()=>{// + 버튼을 누를 때마다 페이지 당 보여질 이미지 개수를 늘립니다.\nsetVisibleImages(prev=>prev+imagesPerPage);};const handleScrollToTop=()=>{scroll.scrollToTop();// react-scroll의 함수를 사용해 맨 위로 스크롤\n};return/*#__PURE__*/_jsx(\"div\",{id:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-event\",children:/*#__PURE__*/_jsx(Slider,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"mcmain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mcinner\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"titmaain\",children:\"McDonald's LIVE\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"whatsnew\",children:/*#__PURE__*/_jsx(\"li\",{children:tmps.slice(0,visibleImages).map(tmp=>/*#__PURE__*/_jsx(Card,{props:tmp},tmp.prodNum))})}),visibleImages<tmps.length&&/*#__PURE__*/_jsx(\"button\",{className:\"show-more-button\",onClick:handleShowMore,children:/*#__PURE__*/_jsx(\"span\",{children:\"+\"})}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Buttonmain,{})})]})})]})});};export default Main;","map":{"version":3,"names":["React","useEffect","useState","Slider","Card","Buttonmain","animateScroll","scroll","axios","API_URL","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Main","imagesPerPage","visibleImages","setVisibleImages","tmps","setTmps","get","concat","then","res","console","log","data","catch","err","error","handleShowMore","prev","handleScrollToTop","scrollToTop","id","children","className","slice","map","tmp","props","prodNum","length","onClick"],"sources":["C:/Users/user/Desktop/mcdonald-ec2/client/src/page/Main.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Slider from \"../components/Main/Slider\";\r\nimport Card from \"../components/Card/Card\";\r\nimport Buttonmain from \"../components/Main/Button\";\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport \"./Main.scss\";\r\nimport axios from 'axios';\r\nimport { API_URL } from '../config/contansts';\r\n\r\n\r\nconst Main = () => {\r\n  const imagesPerPage = 6; // 페이지 당 보여질 이미지 개수\r\n  const [visibleImages, setVisibleImages] = useState(imagesPerPage);\r\n  const [tmps,setTmps] = useState([]);\r\n\r\n  useEffect(()=>{\r\n    axios.get(`${API_URL}/api/whats-new`)\r\n    .then(res=>{\r\n      console.log(\"whats-new: \",res.data);\r\n      setTmps(res.data); \r\n    }).catch(err=>{\r\n      console.error(err);\r\n    })\r\n  },[])\r\n\r\n  const handleShowMore = () => {\r\n    // + 버튼을 누를 때마다 페이지 당 보여질 이미지 개수를 늘립니다.\r\n    setVisibleImages((prev) => prev + imagesPerPage);\r\n  };\r\n\r\n  const handleScrollToTop = () => {\r\n    scroll.scrollToTop(); // react-scroll의 함수를 사용해 맨 위로 스크롤\r\n  };\r\n\r\n  return (\r\n    <div id='container'>\r\n      <div className='content'>\r\n        <div className='main-event'>\r\n          <Slider />\r\n        </div>\r\n        <div className='mcmain'>\r\n          <div className='mcinner'>\r\n            <h2 className='titmaain'>McDonald's LIVE</h2>\r\n            <ul className='whatsnew'>\r\n              <li>\r\n                {tmps.slice(0, visibleImages).map((tmp) => (\r\n                  <Card key={tmp.prodNum} props={tmp} />\r\n                ))}\r\n              </li>\r\n            </ul>\r\n            {visibleImages < tmps.length && (\r\n              <button className=\"show-more-button\" onClick={handleShowMore}>\r\n                <span>+</span>\r\n              </button>\r\n            )}\r\n            <>\r\n              <Buttonmain />\r\n            </>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,2BAA2B,CAC9C,MAAO,CAAAC,IAAI,KAAM,yBAAyB,CAC1C,MAAO,CAAAC,UAAU,KAAM,2BAA2B,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,KAAQ,cAAc,CACtD,MAAO,aAAa,CACpB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG9C,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,aAAa,CAAG,CAAC,CAAE;AACzB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGjB,QAAQ,CAACe,aAAa,CAAC,CACjE,KAAM,CAACG,IAAI,CAACC,OAAO,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAEnCD,SAAS,CAAC,IAAI,CACZO,KAAK,CAACc,GAAG,IAAAC,MAAA,CAAId,OAAO,kBAAgB,CAAC,CACpCe,IAAI,CAACC,GAAG,EAAE,CACTC,OAAO,CAACC,GAAG,CAAC,aAAa,CAACF,GAAG,CAACG,IAAI,CAAC,CACnCP,OAAO,CAACI,GAAG,CAACG,IAAI,CAAC,CACnB,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,EAAE,CACZJ,OAAO,CAACK,KAAK,CAACD,GAAG,CAAC,CACpB,CAAC,CAAC,CACJ,CAAC,CAAC,EAAE,CAAC,CAEL,KAAM,CAAAE,cAAc,CAAGA,CAAA,GAAM,CAC3B;AACAb,gBAAgB,CAAEc,IAAI,EAAKA,IAAI,CAAGhB,aAAa,CAAC,CAClD,CAAC,CAED,KAAM,CAAAiB,iBAAiB,CAAGA,CAAA,GAAM,CAC9B3B,MAAM,CAAC4B,WAAW,CAAC,CAAC,CAAE;AACxB,CAAC,CAED,mBACExB,IAAA,QAAKyB,EAAE,CAAC,WAAW,CAAAC,QAAA,cACjBtB,KAAA,QAAKuB,SAAS,CAAC,SAAS,CAAAD,QAAA,eACtB1B,IAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAD,QAAA,cACzB1B,IAAA,CAACR,MAAM,GAAE,CAAC,CACP,CAAC,cACNQ,IAAA,QAAK2B,SAAS,CAAC,QAAQ,CAAAD,QAAA,cACrBtB,KAAA,QAAKuB,SAAS,CAAC,SAAS,CAAAD,QAAA,eACtB1B,IAAA,OAAI2B,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC7C1B,IAAA,OAAI2B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtB1B,IAAA,OAAA0B,QAAA,CACGjB,IAAI,CAACmB,KAAK,CAAC,CAAC,CAAErB,aAAa,CAAC,CAACsB,GAAG,CAAEC,GAAG,eACpC9B,IAAA,CAACP,IAAI,EAAmBsC,KAAK,CAAED,GAAI,EAAxBA,GAAG,CAACE,OAAsB,CACtC,CAAC,CACA,CAAC,CACH,CAAC,CACJzB,aAAa,CAAGE,IAAI,CAACwB,MAAM,eAC1BjC,IAAA,WAAQ2B,SAAS,CAAC,kBAAkB,CAACO,OAAO,CAAEb,cAAe,CAAAK,QAAA,cAC3D1B,IAAA,SAAA0B,QAAA,CAAM,GAAC,CAAM,CAAC,CACR,CACT,cACD1B,IAAA,CAAAE,SAAA,EAAAwB,QAAA,cACE1B,IAAA,CAACN,UAAU,GAAE,CAAC,CACd,CAAC,EACA,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAW,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}