{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Crew.scss';import Modal from'../Component/Modal';import axios from'axios';import{API_URL}from'../../../../config/contansts';import BottomMenu from'../Component/BottomMenu';import Buttonmain from\"../../../../components/Main/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Crew=()=>{const[modalOpen,setModalOpen]=useState(false);const[selectedCrew,setSelectedCrew]=useState(null);const[crewData,setCrewData]=useState([]);//try catch > promise가 아닌 것 에러처리용\n//그렇기 때문에(막기 위해) async await.\nuseEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/api/crew\"));setCrewData(response.data);}catch(error){console.error('Error:',error);}};fetchData();},[]);const openModal=crew=>{setSelectedCrew(crew);setModalOpen(true);};const closeModal=()=>{setModalOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BottomMenu,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"crew-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD06C\\uB8E8\\uB4E4\\uC774 \\uB9CC\\uB4E4\\uC5B4\\uAC00\\uB294 \\uB9E5\\uB3C4\\uB0A0\\uB4DC\\uC758 \\uBCC0\\uD654 \\uC774\\uC57C\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"crew-list\",children:crewData.map(crew=>/*#__PURE__*/_jsxs(\"div\",{className:\"crew-item\",onClick:()=>openModal(crew),children:[/*#__PURE__*/_jsx(\"img\",{className:\"crew-image\",src:API_URL+crew.img_url,alt:\"\\uC774\\uBBF8\\uC9C0 - \".concat(crew.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"crew-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:crew.title}),/*#__PURE__*/_jsxs(\"p\",{children:[crew.name,\" \",crew.position]})]})]},crew.id))}),modalOpen&&selectedCrew&&/*#__PURE__*/_jsx(Modal,{crew:selectedCrew,closeModal:closeModal})]}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Buttonmain,{})})]});};export default Crew;","map":{"version":3,"names":["React","useState","useEffect","Modal","axios","API_URL","BottomMenu","Buttonmain","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Crew","modalOpen","setModalOpen","selectedCrew","setSelectedCrew","crewData","setCrewData","fetchData","response","get","concat","data","error","console","openModal","crew","closeModal","children","className","map","onClick","src","img_url","alt","name","title","position","id"],"sources":["C:/Users/user/Desktop/mcdonald-ec2/client/src/page/Story/People/Crew/Crew.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Crew.scss';\r\nimport Modal from '../Component/Modal';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../../../config/contansts';\r\nimport BottomMenu from '../Component/BottomMenu';\r\nimport Buttonmain from \"../../../../components/Main/Button\";\r\n\r\nconst Crew = () => {\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [selectedCrew, setSelectedCrew] = useState(null);\r\n  const [crewData, setCrewData] = useState([]);\r\n\r\n  //try catch > promise가 아닌 것 에러처리용\r\n  //그렇기 때문에(막기 위해) async await.\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/api/crew`);\r\n        setCrewData(response.data);\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const openModal = (crew) => {\r\n    setSelectedCrew(crew);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <BottomMenu />\r\n      <div className=\"crew-container\">\r\n        <h1>크루들이 만들어가는 맥도날드의 변화 이야기</h1>\r\n        <div className=\"crew-list\">\r\n          {crewData.map((crew) => (\r\n            <div key={crew.id} className=\"crew-item\" onClick={() => openModal(crew)}>\r\n              <img className=\"crew-image\" src={API_URL + crew.img_url} alt={`이미지 - ${crew.name}`} />\r\n              <div className=\"crew-details\">\r\n                <h2>{crew.title}</h2>\r\n                <p>{crew.name} {crew.position}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {modalOpen && selectedCrew && <Modal crew={selectedCrew} closeModal={closeModal} />}\r\n      </div>\r\n      <>\r\n        <Buttonmain />\r\n      </>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Crew;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}